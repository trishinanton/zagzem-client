(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{22:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(4),a=n(23),s=n(14),c=n(24),i=n(25),l=n(2),o=n.n(l),u=n(0),d=n.n(u),f=n(3),p=d.a.createContext({}),h=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={villages:[],villagesPromo:[],filteredVillages:[],selectedVillage:null,selectedRoads:[],selectedAreas:[],selectedCommunications:[],selectedSafety:[],selectedVillageRoads:[],selectedVillageTypes:[],selectedWaysToGet:[],selectedFromMkad:90,selectedPriceFrom:2e7,selectedTypeProperty:1,selectedWorldSides:[],uniqRoads:[],uniqAreas:[],uniqSides:[],uniqPrices:[],defaultSelectedFromMkad:90,defaultSelectedPriceFrom:2e7},e.handlerArr=function(e,t){var n=e.indexOf(t);return-1===n?e.push(t):e.splice(n,1),e},e.setVillagesPromo=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({villagesPromo:n});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setVillages=function(){var t=Object(r.a)(o.a.mark((function t(n){var r,a,s,c,i,l,u,d,f,p;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],a=[],s=[],c=0;case 4:if(!(c<n.length)){t.next=23;break}return i=n[c].road,l=n[c].area,u=n[c].sideOfMkad,t.next=10,a.indexOf(i);case 10:return d=t.sent,t.next=13,s.indexOf(l);case 13:return f=t.sent,t.next=16,r.indexOf(u);case 16:p=t.sent,-1===d&&a.push(i),-1===f&&s.push(l),-1===p&&r.push(u);case 20:c++,t.next=4;break;case 23:return t.next=25,e.setState({villages:n,filteredVillages:n,uniqRoads:a,uniqAreas:s,uniqSides:r});case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filtered=Object(r.a)(o.a.mark((function t(){var n,r,a,s,c,i,l,u,d,f,p;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.villages,r=[1,2,3,4,5,6],a=0,s=0,c=e.state.uniqRoads,i=e.state.uniqAreas,l=[1,2],e.state.selectedVillageRoads.length>0&&(r=e.state.selectedVillageRoads),""!==e.state.selectedFromMkad&&(a=1*e.state.selectedFromMkad),""!==e.state.selectedPriceFrom&&(s=1*e.state.selectedPriceFrom),e.state.selectedRoads.length>0&&(c=e.state.selectedRoads),e.state.selectedAreas.length>0&&(i=e.state.selectedAreas),e.state.selectedVillageTypes.length>0&&(l=e.state.selectedVillageTypes),u=e.state.selectedSafety,d=e.state.selectedWaysToGet,f=e.state.selectedCommunications,p=[],t.t0=n,t.next=20,function(e){var t=!0;if(f.length>0){for(var n=e.communications,o=Object.keys(n),h=[],m=0;m<o.length;m++)h.push(1*o[m]);for(var y=0;y<f.length;y++)-1===h.indexOf(f[y])&&(t=!1)}var x=!0;if(d.length>0){for(var O=e.waysToGet,b=Object.keys(O),j=[],g=0;g<b.length;g++)j.push(1*b[g]);for(var v=0;v<d.length;v++)-1===j.indexOf(d[v])&&(x=!1)}var k=!0;if(u.length>0)for(var w=e.safety,P=0;P<u.length;P++)-1===w.indexOf(u[P])&&(k=!1);-1!==r.indexOf(e.roadIn)&&-1!==l.indexOf(e.type)&&-1!==c.indexOf(e.road)&&-1!==i.indexOf(e.area)&&e.fromMkad<=a&&e.priceLands[0]<=s&&t&&x&&k&&p.push(e)};case 20:t.t1=t.sent,t.t0.forEach.call(t.t0,t.t1),e.setState({filteredVillages:p});case 23:case"end":return t.stop()}}),t)}))),e.resetFilter=Object(r.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({filteredVillages:e.state.villages,selectedVillageTypes:[],selectedVillageRoads:[],selectedRoads:[],selectedAreas:[],selectedCommunications:[],selectedSafety:[],selectedWaysToGet:[],selectedFromMkad:e.state.defaultSelectedFromMkad,selectedPriceFrom:e.state.defaultSelectedPriceFrom});case 2:case"end":return t.stop()}}),t)}))),e.selectTypeProperty=function(t){e.setState({selectedTypeProperty:t.target.value})},e.selectFromMkad=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({selectedFromMkad:1*n.replace(/[^+\d]/g,"")});case 2:return t.next=4,e.filtered();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectPriceFrom=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({selectedPriceFrom:1*n.replace(/[^+\d]/g,"")});case 2:return t.next=4,e.filtered();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectWorldSide=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({selectedWorldSides:e.handlerArr(e.state.selectedWorldSides,n)});case 2:return t.next=4,e.filtered();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectRoad=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({selectedRoads:e.handlerArr(e.state.selectedRoads,n)});case 2:return t.next=4,e.filtered();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectArea=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({selectedAreas:e.handlerArr(e.state.selectedAreas,n)});case 2:return t.next=4,e.filtered();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectVillageRoad=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({selectedVillageRoads:e.handlerArr(e.state.selectedVillageRoads,n)});case 2:return t.next=4,e.filtered();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectVillageType=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({selectedVillageTypes:e.handlerArr(e.state.selectedVillageTypes,n)});case 2:return t.next=4,e.filtered();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectCommunication=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({selectedCommunications:e.handlerArr(e.state.selectedCommunications,n)});case 2:return t.next=4,e.filtered();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectSafety=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({selectedSafety:e.handlerArr(e.state.selectedSafety,n)});case 2:return t.next=4,e.filtered();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectWayToGet=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({selectedWaysToGet:e.handlerArr(e.state.selectedWaysToGet,n)});case 2:return t.next=4,e.filtered();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectOnlyVillageType=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.resetFilter();case 2:return t.next=4,e.selectVillageType(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectOnlyArea=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.resetFilter();case 2:return t.next=4,e.selectArea(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectOnlyRoad=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.resetFilter();case 2:return t.next=4,e.selectRoad(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectOnlyDist=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.resetFilter();case 2:return t.next=4,e.selectFromMkad(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectOnlyPrice=function(){var t=Object(r.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.resetFilter();case 2:return t.next=4,e.selectPriceFrom(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(s.a)(n,[{key:"render",value:function(){return Object(f.jsx)(p.Provider,{value:{villages:this.state.villages,villagesPromo:this.state.villagesPromo,uniqRoads:this.state.uniqRoads,uniqAreas:this.state.uniqAreas,uniqPrices:this.state.uniqPrices,filteredVillages:this.state.filteredVillages,selectedRoads:this.state.selectedRoads,selectedAreas:this.state.selectedAreas,selectedSafety:this.state.selectedSafety,selectedVillageRoads:this.state.selectedVillageRoads,selectedVillageTypes:this.state.selectedVillageTypes,selectedWaysToGet:this.state.selectedWaysToGet,selectedCommunications:this.state.selectedCommunications,selectedFromMkad:this.state.selectedFromMkad,selectedToMkad:this.state.selectedToMkad,selectedPriceFrom:this.state.selectedPriceFrom,selectedPriceTo:this.state.selectedPriceTo,selectedTypeProperty:this.state.selectedTypeProperty,selectedWorldSides:this.state.selectedWorldSides,setVillages:this.setVillages,setVillagesPromo:this.setVillagesPromo,selectTypeProperty:this.selectTypeProperty,selectFromMkad:this.selectFromMkad,selectPriceFrom:this.selectPriceFrom,selectSafety:this.selectSafety,selectCommunication:this.selectCommunication,selectRoad:this.selectRoad,selectArea:this.selectArea,selectVillageRoad:this.selectVillageRoad,selectVillageType:this.selectVillageType,selectWayToGet:this.selectWayToGet,selectWorldSide:this.selectWorldSide,resetFilter:this.resetFilter,selectOnlyVillageType:this.selectOnlyVillageType,selectOnlyArea:this.selectOnlyArea,selectOnlyRoad:this.selectOnlyRoad,selectOnlyDist:this.selectOnlyDist,selectOnlyPrice:this.selectOnlyPrice},children:this.props.children})}}]),n}(u.Component);t.b=p},43:function(e,t,n){"use strict";t.a=n.p+"static/media/logo.8cb0d802.png"},55:function(e,t,n){"use strict";n(18),n(4),n(2)},62:function(e,t,n){},63:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var r,a=n(18),s=n(4),c=n(2),i=n.n(c),l=n(0),o=n.n(l),u=n(40),d=n.n(u),f=(n(62),n(63),n(23)),p=n(14),h=n(24),m=n(25),y=n(5),x=n(22),O=n(47),b=n(48),j=n(87),g=n(43),v=n(3),k=b.a.img(r||(r=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  @media (prefers-reduced-motion: no-preference) {\n    animation: rotate-logo-spin infinite 1s linear;\n  }\n  @keyframes rotate-logo-spin {\n  from {\n    transform: scale(1);\n  }\n  to {\n    transform: scale(1.2);\n  }\n"]))),w=function(){return Object(v.jsx)(j.a,{container:!0,justifyContent:"center",alignItems:"center",style:{position:"fixed",height:"100vh",width:"100vw",top:"0"},children:Object(v.jsx)(k,{src:g.a,style:{width:"200px",height:"200px"}})})},P=(n(55),Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(14)]).then(n.bind(null,240))}))),S=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(15)]).then(n.bind(null,249))})),T=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(10)]).then(n.bind(null,250))})),V=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(16),n.e(11)]).then(n.bind(null,259))})),F=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(9)]).then(n.bind(null,260))})),R=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(8),n.e(17)]).then(n.bind(null,267))})),A=Object(l.lazy)((function(){return Promise.all([n.e(1),n.e(12)]).then(n.bind(null,262))})),M=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(13)]).then(n.bind(null,265))})),W=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(f.a)(this,n),(r=t.call(this,e)).state={},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.context.setVillages(this.props.villages)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return Object(v.jsxs)(l.Suspense,{fallback:Object(v.jsx)(w,{}),children:[Object(v.jsx)(R,{}),Object(v.jsx)(A,{children:Object(v.jsxs)(y.d,{children:[Object(v.jsx)(y.b,{path:"/contact",component:P}),Object(v.jsx)(y.b,{path:"/services",component:S}),Object(v.jsx)(y.b,{path:"/villages",component:T}),Object(v.jsx)(y.b,{path:"/village",component:V}),Object(v.jsx)(y.b,{exact:!0,path:"/",component:F}),Object(v.jsx)(y.a,{to:"/"})]})}),Object(v.jsx)(M,{})]})}}]),n}(o.a.Component);W.contextType=x.b;var q=W,C=n(33),G=n(53),z=n(90),I=[],L=Object(G.a)({palette:{type:"light",primary:{main:"#0197fd"},secondary:{main:"#53a321"}},shape:{borderRadius:"15px"}});function D(e){for(var t={},n=Object.entries(e).filter((function(e){return""!==e[1]})),r=0;r<n.length;r++)t[n[r][0]]=n[r][1];return t}function E(e){for(var t={},n=Object.entries(e).filter((function(e){return!1!==e[1]})),r=0;r<n.length;r++)t[n[r][0]]=n[r][1];return t}function U(e){return+Object.entries(e).filter((function(e){return!0===e[1]}))[0][0]}function J(){return(J=Object(s.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if(!(n=e.sent).ok){e.next=14;break}return e.next=7,n.json();case 7:e.sent.forEach((function(e){return I.push(Object(a.a)(Object(a.a)({},e.acf),{},{uid:e.acf.id,fromMkad:+e.acf.fromMkad,totalLands:+e.acf.totalLands,price:+e.acf.price,communications:D(e.acf.communications),infrastructure:D(e.acf.infrastructure),coords:[e.acf.coords.latitude,e.acf.coords.longitude],bgs:Object.values(E(e.acf.bgs)),descr:[e.acf.descr],roadTo:U(e.acf.roadTo),roadIn:U(e.acf.roadIn),permittedUse:Object.entries(e.acf.permittedUse).filter((function(e){return!0===e[1]}))[0],priceLands:Object.values(e.acf.priceLands).map((function(e){return+e})),sideOfMkad:1}))})),I,r=Object(v.jsx)(C.a,{children:Object(v.jsx)(z.a,{theme:L,children:Object(v.jsx)(x.a,{children:Object(v.jsx)(q,{villages:I})})})}),d.a.render(r,document.getElementById("root")),e.next=15;break;case 14:throw new Error("Could not fetch ".concat(t));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}!function(e){J.apply(this,arguments)}("https://good-production.ru/projects-in-work/zagzem/wp-json/wp/v2/poselki")}},[[70,6,7]]]);
//# sourceMappingURL=main.b6360590.chunk.js.map